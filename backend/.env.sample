# Copy this file to `.env` and fill in values for your environment.
# - Local dev: keep `NODE_ENV=development` and use local Postgres + `docker compose up -d` for Redis.
# - Staging/Prod: set `NODE_ENV=production`, use strong secrets, and set `TRUST_PROXY=true` if behind a reverse proxy.

# ----------------------------
# Database (PostgreSQL)
# ----------------------------
# Example (local): postgresql://postgres:postgres@localhost:5432/auth_project_db?schema=public
DATABASE_URL="postgresql://<USER>:<PASSWORD>@<HOST>:<PORT>/auth_project_db?schema=public"

# ----------------------------
# JWT (Authentication)
# ----------------------------
# IMPORTANT: Use a strong secret in staging/prod (>= 32 chars recommended).
JWT_SECRET="<CHANGE_ME_TO_A_STRONG_SECRET>"

# Token lifetimes (examples: 15m, 1h, 7d)
JWT_EXPIRES_IN="1h"
JWT_REFRESH_EXPIRES_IN="7d"

# ----------------------------
# Redis (Sessions, token blacklist, rate limiting)
# ----------------------------
REDIS_HOST="localhost"
REDIS_PORT=6379

# Leave blank for local dev if your Redis has no password.
# If set, your Redis server must be configured with `requirepass`.
REDIS_PASSWORD=""

# Default cache TTL (seconds)
REDIS_TTL=3600

# ----------------------------
# Rate limiting (Redis-backed)
# ----------------------------
# Defaults used by the global rate limit guard when no per-route override is set.
RATE_LIMIT_TTL=60
RATE_LIMIT_LIMIT=100

# ----------------------------
# App
# ----------------------------
PORT=3000
NODE_ENV="development"

# Set to true when running behind a reverse proxy/load balancer so IP-based rate limiting uses X-Forwarded-For.
TRUST_PROXY=false

